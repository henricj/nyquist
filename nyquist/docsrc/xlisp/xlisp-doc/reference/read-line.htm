<html><head><title>XLISP read-line</title>

<link rel="stylesheet" type="text/css" href="reference.css">

</head>

<body>

<a href="../start.htm">Nyquist / XLISP 2.0</a>&nbsp; -&nbsp;
<a href="../manual/contents.htm">Contents</a> |
<a href="../tutorials/tutorials.htm">Tutorials</a> |
<a href="../examples/examples.htm">Examples</a> |
<a href="reference-index.htm">Reference</a>

<hr>

<h1>read-line</h1>

<hr>

<p><table cellpadding="0" cellspacing="0" style="margin-left:10px"><tbody>
<tr valign="top">
  <td><nobr>Type:</nobr></td>
  <td><nobr>&nbsp;&nbsp;-&nbsp;&nbsp;</nobr></td>
  <td width="100%"><nobr>function (subr)</nobr></td>
</tr>
<tr valign="top">
  <td><nobr>Source:</nobr></td>
  <td><nobr>&nbsp;&nbsp;-&nbsp;&nbsp;</nobr></td>
  <td width="100%"><nobr>xlfio.c</nobr></td>
</tr>
</tbody></table></p>

<h2>Syntax</h2>

<dl>
<dt>(read-line [<i>source</i>])</dt>
<dd><i>source</i> - an optional source, must be a file pointer or stream,
default is <a href="global-standard-input.htm">*standard-input*</a><br>
returns - the line as a string</dd>
</dl>

<h2>Description</h2>

<p>The 'read-line' function reads a single line from the specified 'source'.
The line read is returned as a string value for the result. The 'source' may
be a file pointer or a stream. If there is no 'source',
<a href="global-standard-input.htm">*standard-input*</a> is the default. If an
end-of-file is encountered in the 'source', then
<a href="nil.htm">NIL</a> will be returned as the result.</p>

<h2>Examples</h2>

<pre class="example">
(setq fp (open "f" :direction :output))  <font color="#008844">; set up file</font>
(print "fe fi" fp)
(print 12.34 fp)
(close fp)

(setq fp (open "f" :direction :input))   <font color="#008844">; now read the file</font>
(read-line fp)                           <font color="#008844">; returns ""fe fi""</font>    
(read-line fp)                           <font color="#008844">; returns "12.34"</font>
(read-line fp)                           <font color="#008844">; returns NIL</font>
(close fp)
</pre>

<p><b>Common Lisp:</b> The XLISP and Common Lisp 'read-line' functions are
compatible for simple cases. They both allow for the optional 'source'.
However, in Common Lisp, there are additional parameters which occur right
after 'source'. So, when porting from Common Lisp to XLISP, remember there
are additional arguments in Common Lisp's 'read-line' function.</p>

<p><b>Common Lisp:</b> Common Lisp specifies that 'read' operations with a
'source' of <a href="nil.htm">NIL</a> will come from
<a href="global-standard-input.htm">*standard-input*</a>. XLISP does not read the
input from <a href="global-standard-input.htm">*standard-input*</a> with a
'source' of <a href="nil.htm">NIL</a>. Common Lisp also
specifies that a 'source' of <a href="t.htm">&nbsp;T&nbsp;</a>
will read from *terminal-io* which is not defined in XLISP by default. XLISP
does not allow <a href="t.htm">&nbsp;T&nbsp;</a> as a valid
argument for 'source'.</p>

<p>See the
<a href="../manual/xlisp-man-029.htm#read-line">read-line</a>
function in the <nobr>XLISP 2.0</nobr> manual.</p>

<p><nobr>&nbsp;&nbsp;<a href="#top">Back to Top</nobr></a></p>

<hr>

<a href="../start.htm">Nyquist / XLISP 2.0</a>&nbsp; -&nbsp;
<a href="../manual/contents.htm">Contents</a> |
<a href="../tutorials/tutorials.htm">Tutorials</a> |
<a href="../examples/examples.htm">Examples</a> |
<a href="reference-index.htm">Reference</a>

</body></html>