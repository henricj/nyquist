<html>
<head><title>Untitled Document</title></head><body bgcolor="#FFFFFF"><h1>Piano Synthesizer Tutorial </h1><p>This page describes how to use the piano synthesizer in Nyquist.</p><p>First, load the file &quot;pianosyn.lsp&quot; to initialize the synthesizer.   The file is in the &quot;lib&quot; directory.</p><p>&gt;(<b>load</b><i> &quot;pianosyn&quot;</i>)</p><p>After the piano synthesizer has been initialized and returns, you can use the   functions provided by the synthesizer program to generate piano sounds.</p><p>The functions are shown as below:</p><h2>Generate a single note</h2><p>Use the function:</p><p>(<b>piano_note</b> <i>duration step dynamic</i>) </p><ul>  <li><i>duration</i> represents the duration of the note in seconds.</li>  <li> <i> step </i>represents the pitch of note, and uses step values as in all     Nyquist functions. For example, value 60 is middle C (C4).</li>  <li><i>dynamic</i> means the dynamics of the note, and it ranges from 0 to 127.     In a midi file, it is used as the velocity of the note. </li></ul> This behavior returns a sound. You can use (play (piano_note...)) or (s_save (piano_note...)...) to play or save the sound. <p>Examples:</p><pre>&gt; (play (piano_note 4 60 100))</pre>The command above will generate and immediately play a C4 note that lasts 4 seconds, velocity at 100. <h2>Synthesize piano music according to a midi file</h2><p>To convert a midi file to sound, use the function:</p><p>(<b>piano_midi</b> <i>midi_file_name</i>)</p><ul>  <li><i>midi_file_name</i> is a string representing the name of the midi file. </ul>This behavior will generate sound according to the score of the midi file. It generates stereo sound, and the sample rate is the default sound sample rate. <p></p><h2>Convert midi file to sound file</h2><p>To convert a midi file to a sound file using the piano synthesizer, use the   function:</p><p>(<b>piano_midi2file</b> <i>midi_file_name sound_file_ name</i>)</p><ul><li><i>midi_file_name</i> is a string representing the name of the midi file.<li><i>sound_file_name </i>is a string representing the name of the sound file.</ul>This command will generate a sound file according to the score of the midi file and play it at the same time. It generates stereo sound, and the sample rate is the default sound sample rate. <h3>Example:</h3><pre>&gt;(piano_midi2file &quot;demo.mid&quot; &quot;demo.wav&quot;)</pre><blockquote>  &quot;demo.mid&quot; is the name of the midi file. It saves the output sound into &quot;demo.wav&quot;, and plays it when generating the output.  </blockquote><hr><i>Generated by Ning Hu(ning_hu@cmu.edu)		Mar.22, 2001</i></body></html>
